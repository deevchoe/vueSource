<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- êµ¬ê¸€ ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ -->
    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <!-- Vue.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ -->
    <script src="https://unpkg.com/vue@3"></script>
    <script>
        // ì´ˆê¸° ë°ì´í„° ì„¤ì •
        let datas = [
            ['ë„ì‹œë½', 3], ['ê¹€ë°¥', 6], ['í–„ë²„ê±°', 2], ['í”¼ì', 1], ['ë„ë„›', 10]
        ];

        // êµ¬ê¸€ ì°¨íŠ¸ ë¡œë“œ ë° ê·¸ë¦¬ê¸° í•¨ìˆ˜ ì„¤ì •
        google.charts.load('current', { packages: ['corechart'] });
        google.charts.setOnLoadCallback(drawFunc);

        function drawFunc() {
            let data = google.visualization.arrayToDataTable([
                ['ì¢…ë¥˜', 'ê°¯ìˆ˜'], ...datas
            ]);
            let options = { title: 'ğŸšë¨¹ê³  ì‹¶ì€ ìŒì‹ğŸ´', is3D: true };
            let chart = new google.visualization.PieChart(document.querySelector('#chart_div'));
            chart.draw(data, options);
        }
    </script>
</head>
<body>
    <h2>Google Chart(ì› ê·¸ë˜í”„) ğŸ¨</h2>
    <!-- ì°¨íŠ¸ê°€ í‘œì‹œë  div -->
    <div id="chart_div" style="height: 500px;"></div>

    <!-- Vue.js ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì • -->
    <div id="app">
        <ul>
            <li v-for="(value, index) in dataArray" :key="index">
                {{ value[0] }} : {{ value[1] }}
                <button @click="addOneFunc(index)">1 ì¦ê°€</button>
                <button @click="subOneFunc(index)">1 ê°ì†Œ</button>
            </li>
        </ul>
    </div>
    
    <script>
        const { createApp } = Vue;
        createApp({
            data() {
                return {
                    dataArray: datas
                };
            },
            methods: {
                addOneFunc(index) {
                    this.dataArray[index][1]++;
                    this.updateChart();
                },
                subOneFunc(index) {
                    if (this.dataArray[index][1] > 0) {
                        this.dataArray[index][1]--;
                        this.updateChart();
                    }
                },
                updateChart() {
                    drawFunc();
                }
            },
        }).mount('#app');
    </script>
</body>
</html>